!function($){var Selectoid,a=this,b=function(a){return{}.toString.call(a).match(/\s([a-zA-Z]+)/)[1].toLowerCase()};Selectoid=function(a,c,d){var e=this;e.setObjectId("object"===b(a)?a.object.substring(1):a.substr(1)),e.classes={select:"selectoid_select",button:"selectoid_button",holder:"selectoid_holder",itemHolder:"itemHolder",item:"item",selected:"selected",hidden:"hidden"},e.ids={selectoid:e.getObjectId(),select:e.getObjectId()+"_select",holder:e.getObjectId()+"_holder",button:e.getObjectId()+"_button"},e.dataFormat=function(a){return{name:a.name,value:a.value}},e.htmlFormat=function(a){return a.name},"object"===b(a)?($.extend(e.classes,a.parameters.classes),$.extend(e.ids,a.parameters.ids),e.initial=a.parameters.initial,e.data=a.data,e.dataFormat=a.dataFormat||e.dataFormat,e.htmlFormat=a.htmlFormat||e.htmlFormat,e.closeOnMouseLeave="undefined"!=typeof a.parameters.mouseLeaveClose?a.parameters.mouseLeaveClose:!0,e.closeOnFocusOut="undefined"!=typeof a.parameters.focusOutClose?a.parameters.focusOutClose:!0):(e.closeOnMouseLeave=!0,e.closeOnFocusOut=!0,e.data=c,e.initial=d),e.generateSelectBox(),e.generateButton(),e.generateDivBox(),e.setInitialValues(),e.setButtonActions(),e.setDivActions(),e.closeOnMouseLeave&&e.setDivMouseLeaveAction(),e.closeOnFocusOut&&e.setDivFocusOutAction(),$.each(Object.keys(e.ids),function(a,b){Selectoid.prototype["get"+b.charAt(0).toUpperCase()+b.substring(1)+"Id"]=function(){return e.ids[b]}}),$.each(Object.keys(e.classes),function(a,b){Selectoid.prototype["get"+b.charAt(0).toUpperCase()+b.substring(1)+"Class"]=function(){return e.ids[b]}})},Selectoid.prototype.setObjectId=function(a){this.objectId=a},Selectoid.prototype.getObjectId=function(){return this.objectId},Selectoid.prototype.generateSelectBox=function(){for(var a=this,b="",c=0,d=a.data.length;d>c;c++)b+="<option value='"+a.getValue(c)+"'>"+a.getName(c)+"</option>";$(a.toId(a.ids.selectoid)).append("<select class='"+a.classes.select+"' id='"+a.ids.select+"'>"+b+"</select>")},Selectoid.prototype.getName=function(a){return $.isNumeric(a)?this.dataFormat(this.data[a]).name:this.dataFormat(a).name},Selectoid.prototype.getValue=function(a){return $.isNumeric(a)?this.dataFormat(this.data[a]).value:this.dataFormat(a).value},Selectoid.prototype.getItemByValue=function(a){var b,c=this;return $.each(c.data,function(d,e){return c.dataFormat(e).value===a?(b=e,void 0):void 0}),b},Selectoid.prototype.getWindowWidth=function(){return $(window).width()},Selectoid.prototype.generateDivBox=function(){var a=this,b=(a.getWindowWidth(),0),c=a.data.length;b=6>c?1:3,b>c&&(b=c);for(var d=Math.ceil(c/b),e=0,f="</div>",g="<div class='"+a.classes.holder+" "+a.classes.hidden+"' id='"+a.ids.holder+"'>",h=0;b>h;h++){g+="<div class='"+a.classes.itemHolder+"'>";for(var i=d*(h+1)-1,j=i-d>0?i-d+1:0,k=j;i>=k&&!(e>=c);k++)g+="<div class='"+this.classes.item+"' data-value="+a.getValue(e)+">"+a.htmlFormat(a.data[e])+f,e++;g+=f}g+=f,$(a.toId(a.ids.selectoid)).append(g)},Selectoid.prototype.generateButton=function(){$(this.toId(this.ids.selectoid)).append("<button class='"+this.classes.button+"' id='"+this.ids.button+"'></button>")},Selectoid.prototype.setButtonText=function(a){$(this.toId(this.ids.button)).html(a+"&nbsp;<div class='arrow-down float-right'></div>")},Selectoid.prototype.setButtonActions=function(){var a=this;$(a.toId(a.ids.button)).on("click",function(){$(a.toId(a.ids.holder)).removeClass(a.classes.hidden).focus()})},Selectoid.prototype.setDivActions=function(){var a=this,b=a.toId(a.ids.holder),c=a.toClass(a.classes.item),d=c+a.toClass(a.classes.selected);$(a.toId(a.ids.selectoid)+" "+c).on("click",function(){$(b+" "+d).removeClass(a.classes.selected),$(this).addClass(a.classes.selected);var c=$(this).data("value"),e=a.getItemByValue(c);a.setButtonText(a.getName(e)),$(a.toId(a.ids.select)).val(c),$(a.toClass(a.classes.holder)).addClass(a.classes.hidden)})},Selectoid.prototype.setDivMouseLeaveAction=function(){var a=this.toId(this.ids.holder);$(a).on("mouseleave",function(){$(this).addClass("hidden")})},Selectoid.prototype.setDivFocusOutAction=function(){var a=this.toId(this.ids.holder);document.querySelector(a).tabIndex=1,$(a).on("focusout",function(){$(this).addClass("hidden")})},Selectoid.prototype.setInitialValues=function(){var a,b,c=this,d=$(c.toId(c.ids.select)),e=c.toClass(c.classes.item),f=e+c.toClass(c.classes.selected),g=d.val();$.each(c.data,function(d,e){c.getValue(d)===g&&(b=e),c.getValue(d)===c.initial&&(a=e)}),a||(c.inital=g),a=a||b,c.setButtonText(a.name),d.val(c.initial),$(c.toId(c.ids.holder)+" "+f).removeClass(c.classes.selected),$.each($(c.toId(c.ids.holder)+" "+c.toClass(c.classes.item)),function(){$(this).data("value")===d.val()&&$(this).addClass(c.classes.selected)})},$.each([{name:"Class",value:"."},{name:"Id",value:"#"}],function(a,b){Selectoid.prototype["to"+b.name]=function(a){return b.value+a}}),a.Selectoid=Selectoid}.call(this,jQuery);