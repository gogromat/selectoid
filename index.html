<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
	<title>Selectoid</title>

    <link rel="stylesheet" href="libs/css/normalize.css">
    <link rel="stylesheet" href="libs/css/boilerplate.css">
    <link rel="stylesheet" href="src/selectoid.css">
    <link rel="stylesheet" href="libs/css/main.css">
    
    <script src="libs/js/modernizr-2.6.2.min.js"></script>
</head>
<body>
    
    <!--<div id="strange" style="width:100px">-->
        Language select example:
        <div class="selectoid" id="selectoid1"></div>    
    <!--</div>-->
    
    Cities select example:
    <div class="selectoid" id="selectoid2"></div>
    
    
    <hr>
    <b>Code</b>
    <div class="gist">
        <script src="https://gist.github.com/gogromat/5987274.js"></script>
    </div>
    
    <hr>
    
    <table>
        <tr width="30%">
            <td>
                Default should be Boston, should not be responsive
                <div class="selectoid" id="selectoid4" data-initial="bo" data-responsive="false"></div>
            </td>
        </tr>
    </table>
    
    <br>
  
  
      <div class="selectoid_parent" style="background-color:green;">
        Outer div 100% width; Selectoid Parent.
        <br>
        Selectoid's width is based off <b>window's</b> width, not of inner div.
        <div style="width:20%; background-color: yellow !important;z-index:10000;">
            Inner div 20% width
            <div class="selectoid" id="selectoid7" data-initial="bo" data-responsive="true"></div>
        </div> 
    </div>
    
    <br>    
    <br>    
    <br>    
    <br>    
    <br>
    <br>    
    <br>    
    <br>    
    <br>    
    <br>
    
    
    <div class="selectoid_parent" style="background-color:green;">
        Outer div 100% width; Selectoid Parent.
        <br>
        Selectoid's width is based off <b>.selectoid_parent</b> width, not on inner div.
        <div style="width:20%; background-color: yellow !important;z-index:10000;">
            Inner div 20% width
            <div class="selectoid" id="selectoid5" data-initial="bo" data-responsive="true"></div>
        </div> 
    </div>
    
    <br>    
    <br>    
    <br>    
    <br>    
    <br>
    <br>    
    <br>    
    <br>    
    <br>    
    <br>
    
    
    <div class="elementWidth" style="background-color: orange">
        Parent div, width is 100%
        <br>
        <div style="width:60%; float: left;background-color:yellow">
            Div's width is 60%
            <br>
            Selectoid's width is based off width of a parent of this div, not on <b>this</b> div.
            <div class="selectoid" id="selectoid6" data-initial="bo"></div>
        </div>
        <div style="width:40%; float: right;background-color:green;">
            Div's width is 40%
            <br>&nbsp;
            <br>&nbsp;
            <br>&nbsp;
        </div>
    </div>
    
    <br>    
    <br>    
    <br>    
    <br>    
    <br>
    <br>    
    <br>    
    <br>    
    <br>    
    <br>
    
    
    <hr>
    
    Selectoid based on jQuery object:
    
    <br>
    <ul>
        <li>useful when you auto-generate Selectoid inputs</li>
        <li>useful when you do not have an id of the element you want to make a Selectoid</li>
        <li>an alternative way to make element into a selectoid</li>
    </ul>
    
    Ex.:
    <ul>
        <li>both divs have same class "someClass"</li>
        <li>we create a new Selectoid with  <b>object: $($(".someClass")[0])</b> property in <i>parameters</i></li>
        <li>only first item should turn into selectoid</li>
        <li>first item should now have a unique selectoid id - (auto-assigned if item had no id before)</li>
        <li>first item now has an id <b>selectoid_0</b></li>
    </ul>
    
    <div class="someClass selectoid" data-initial="en" style="border:dashed 1px black">Should turn into selectoid</div>
    
    <br>
    
    <div class="someClass selectoid" data-initial="en" style="border:dashed 1px black">Should not turn into selectoid</div>
    
    <br>    
    <br>    
    <br>    
    <br>    
    <br>
    <br>    
    <br>    
    <br>    
    <br>    
    <br>    
    
    
    <hr>
    
    Next example is better shown in code.
    <br>
    <br>

    In this example we change the data of the selectoid initialized previously with completely new data.
    
    Initially data should be languages, but later on it is changed to cities.
    <br>
    We change it using changeData() function that accepts object with new parameters, data, and format.
    <br>
    <br>
    
    <ul>
        <li>Data should change from languages to cities</li>
        <li>San Francisco should be selected</li>
        <li>Aslo should not close on mouseOut/focusOut</li>
    </ul>
    <br>
    <div id="initiallyLanguages" class="selectoid" data-initial="en" style="border:dashed 1px black"></div>
    
    <br>    
    <br>    
    <br>    
    <br>    
    <br>
    <br>    
    <br>    
    <br>    
    <br>    
    <br>    
    
    
    
    <script src="libs/js/jquery_1.10.0_min.js"></script>
    <script src="libs/js/underscore.js"></script>
    <script src="libs/js/languages.js"></script>
    <script src="src/selectoid.js"></script>
    
    <script>
    
        $(document).ready(function () {
            
            console.clear();
            
            var citiesData = [
                {name:"New York City",  value: "nyc"},
                {name:"Los Angeles",    value: "lac"},
                {name:"San Francisco",  value: "sf" },
                
                {name:"Boston",         value: "bo" },
                {name:"Washington",     value: "wdc"},
                {name:"Chicago",        value: "chi"},
                
                {name:"Houston",        value: "hou"},
                {name:"Philadelphia",   value: "phi"},
                {name:"Phoenix",        value: "pho"},
            ];
           
           
            var languageDataFormat = function (element) {
                if (element) {
                    return {
                        name:  element.name,
                        value: element.abbreviation.gt
                    };
                }
            };

            var citiesDataFormat = function (element) {
                if (element) {
                    return {
                        name:  element.name,
                        value: element.value
                    };
                }
            };
            
           
            var selectoid = new Selectoid({
                
                object: "#selectoid1",
                
                data: Languages,
                
                htmlFormat: function (element) {
                    return ("<div>" +
                                element.name +
                                "<div class='secondary'>" + element.greeting + "</div>" +
                           "</div>");
                },
                
                dataFormat: languageDataFormat,
                
                parameters: {
                    closeOnMouseLeave: false,
                    closeOnFocusOut: false,
                    initial: "en"
                }
                
            });
                        
            
            var cities  = new Selectoid("#selectoid2", citiesData, "wdc");
            
            var cities2 = new Selectoid("#selectoid4", citiesData);

            var cities7 = new Selectoid({
                object: "#selectoid7",
                data: citiesData,
                parameters: {
                    initial: "wdc",
                    closeOnMouseLeave: false,
                    closeOnFocusOut: false,
                }
            });
            
            
            var cities4 = new Selectoid({
                object: "#selectoid5",
                data: citiesData,
                parameters: {
                    initial: "wdc",
                    closeOnMouseLeave: false,
                    closeOnFocusOut: false,
                    widthElement: ".selectoid_parent"
                }
            });
    
            var cities5 = new Selectoid({
                object: "#selectoid6",
                data: citiesData,
                parameters: {
                    initial: "wdc",
                    closeOnMouseLeave: false,
                    closeOnFocusOut: false,
                    widthElement: ".elementWidth"
                }
            });
            
            
            
            var languages2 = new Selectoid({
                object: $($(".someClass")[0]),
                data: Languages,
                parameters: {
                    closeOnFocusOut: true,
                    closeOnMouseLeave: true,
                },
                dataFormat: languageDataFormat
            });




            var initiallyLanguages = new Selectoid({
                object: "#initiallyLanguages",
                data: Languages,
                parameters: {
                    closeOnFocusOut: true,
                    closeOnMouseLeave: true,
                },
                dataFormat: languageDataFormat
            });
            
            Selectoid.initiallyLanguages.changeData({ 
                data: citiesData, 
                parameters: {
                    initial: "sf",
                    closeOnFocusOut: false,
                    closeOnMouseLeave: false,
                }, 
                dataFormat: citiesDataFormat
            });
            
            $.fn.initiallyLanguages = initiallyLanguages;
            
        });
    </script>
    
</body>
</html>